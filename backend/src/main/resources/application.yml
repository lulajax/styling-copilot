spring:
  application:
    name: fashion-backend
  servlet:
    multipart:
      max-file-size: 5MB
      max-request-size: 5MB
  datasource:
    url: jdbc:mysql://${MYSQL_HOST:192.168.84.30}:${MYSQL_PORT:3306}/${MYSQL_DATABASE:fashion_db}?useSSL=${MYSQL_USE_SSL:false}&serverTimezone=Asia/Shanghai&characterEncoding=UTF-8&allowPublicKeyRetrieval=true
    username: ${MYSQL_USERNAME:fashion_db}
    password: ${MYSQL_PASSWORD:3p2JTnDMXDz4p4jf}
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 5
      idle-timeout: 300000
      max-lifetime: 1200000
      connection-timeout: 20000
  jpa:
    open-in-view: false
    hibernate:
      ddl-auto: ${JPA_DDL_AUTO:update}
    show-sql: ${JPA_SHOW_SQL:true}
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect

management:
  endpoints:
    web:
      exposure:
        include: health,info

springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
    tags-sorter: alpha
    operations-sorter: alpha

app:
  jwt:
    secret: "${JWT_SECRET:replace-this-with-a-very-long-dev-secret-key-2026-02-09}"
    access-expiration-seconds: 1800
    refresh-expiration-seconds: 604800
  auth:
    username: ${AUTH_USERNAME:stylist}
    password: ${AUTH_PASSWORD:stylist123}
  ai:
    enabled: ${AI_ENABLED:true}
    provider: ${AI_PROVIDER:openai}
    gemini:
      base-url: https://generativelanguage.googleapis.com
      model: gemini-2.5-flash
      api-key: ${GEMINI_API_KEY:}
      connect-timeout-ms: 30000
      read-timeout-ms: 120000
      proxy:
        host: ${GEMINI_PROXY_HOST:}
        port: ${GEMINI_PROXY_PORT:0}
    openai:
      base-url: ${OPENAI_BASE_URL:http://192.168.83.221:8045}
      model: ${OPENAI_MODEL:gemini-3-flash}
      api-key: ${OPENAI_API_KEY:sk-412eb26fc5a8413782d67c760b4e34f6}
      connect-timeout-ms: 30000
      read-timeout-ms: 120000
      proxy:
        host: ${OPENAI_PROXY_HOST:}
        port: ${OPENAI_PROXY_PORT:0}
  oss:
    endpoint: ${OSS_ENDPOINT:oss-cn-beijing.aliyuncs.com}
    bucket: ${OSS_BUCKET:}
    access-key-id: ${OSS_ACCESS_KEY_ID:}
    access-key-secret: ${OSS_ACCESS_KEY_SECRET:}
    public-base-url: ${OSS_PUBLIC_BASE_URL:}
    dir-prefix: ${OSS_DIR_PREFIX:fashion}
  match:
    rate-limit:
      max-requests-per-second: ${RATE_LIMIT:3}
